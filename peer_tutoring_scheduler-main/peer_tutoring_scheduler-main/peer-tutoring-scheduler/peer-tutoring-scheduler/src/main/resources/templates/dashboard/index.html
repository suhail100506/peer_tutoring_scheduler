<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peer Tutoring Scheduler - Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/apexcharts@3.35.0/dist/apexcharts.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="/css/theme.css" rel="stylesheet">
    <style>
        :root {
            --primary: #5d87ff;
            --primary-light: #ecf2ff;
            --success: #49beff;
            --info: #539bff;
            --warning: #ffae1f;
            --danger: #ff5b5b;
            --dark: #2c3641;
            --light: #f5f8fb;
            --gray: #5a6a85;
            --border: #e5eaef;
        }
        
        body {
            background-color: #f5f7fb;
            color: #2c3641;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        /* Dark mode styles */
        .dark {
            background-color: #1a2232;
            color: #e5e9f2;
        }
        
        .dark .card {
            background-color: #222b3c;
            border-color: #2d384b;
            color: #e5e9f2;
        }
        
        .dark .card-header {
            background-color: #222b3c;
            border-bottom-color: #2d384b;
        }
        
        .sidebar {
            background: #222b3c;
            min-height: 100vh;
            transition: all 0.3s ease;
            border-right: 1px solid #2d384b;
        }
        
        .sidebar .nav-link {
            color: #a7b0c1;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            font-size: 0.9rem;
            border-radius: 8px;
            margin: 0.25rem 1rem;
            transition: all 0.3s ease;
            text-transform: uppercase;
            border-left: 0.25rem solid transparent;
        }
        
        .sidebar .nav-link:hover, 
        .sidebar .nav-link.active {
            color: #4e73df;
            background-color: #f8f9fc;
            border-left-color: #4e73df;
        }
        
        .sidebar .nav-link i {
            margin-right: 0.5rem;
            color: #b7b9cc;
        }
        
        .sidebar .nav-link.active i {
            color: #4e73df;
        }
        
        .topbar {
            height: 4.375rem;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
        }
        
        .card {
            border: none;
            border-radius: 0.35rem;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.1);
            margin-bottom: 1.5rem;
        }
        
        .card-header {
            background-color: #f8f9fc;
            border-bottom: 1px solid #e3e6f0;
            padding: 1rem 1.25rem;
        }
        
        .card-body {
            padding: 1.25rem;
        }
        
        .stat-card {
            border-left: 0.25rem solid;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card.primary { border-left-color: var(--primary); }
        .stat-card.success { border-left-color: var(--success); }
        .stat-card.info { border-left-color: var(--info); }
        .stat-card.warning { border-left-color: var(--warning); }
        
        .stat-card .text-xs {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        .stat-card .h5 {
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0.5rem 0;
        }
        
        .stat-card .icon {
            font-size: 2rem;
            opacity: 0.3;
        }
        
        .activity-item {
            position: relative;
            padding-left: 1.5rem;
            padding-bottom: 1.5rem;
            border-left: 1px solid #e3e6f0;
        }
        
        .activity-item:last-child {
            padding-bottom: 0;
            border-left: 1px solid transparent;
        }
        
        .activity-item::before {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            left: -6px;
            top: 0;
            background-color: #e74a3b;
        }
        
        .activity-item.success::before {
            background-color: #1cc88a;
        }
        
        .activity-item.primary::before {
            background-color: #4e73df;
        }
        
        .activity-item.warning::before {
            background-color: #f6c23e;
        }
        
        .progress-sm {
            height: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- Page Wrapper -->
    <div class="d-flex" id="wrapper">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar-wrapper">
            <div class="sidebar-heading d-flex align-items-center justify-content-between p-4">
                <div class="d-flex align-items-center">
                    <i class="fas fa-graduation-cap fs-4 me-2" style="color: var(--primary)"></i>
                    <span class="fw-bold">Tutoring Scheduler</span>
                </div>
                <button class="btn btn-sm btn-icon" id="sidebarToggle">
                    <i class="bx bx-menu"></i>
                </button>
            </div>

            <div class="px-3 py-2">
                <a href="/dashboard" class="nav-link active">
                    <i class="bx bxs-dashboard me-2"></i>
                    <span>Dashboard</span>
                </a>

                <a href="/sessions" class="nav-link">
                    <i class="bx bx-calendar me-2"></i>
                    <span>Sessions</span>
                </a>
                <a href="/students" class="nav-link">
                    <i class="bx bx-user me-2"></i>
                    <span>Students</span>
                </a>
                <a href="/tutors" class="nav-link">
                    <i class="bx bx-chalkboard me-2"></i>
                    <span>Tutors</span>
                </a>
                <a href="/subjects" class="nav-link">
                    <i class="bx bx-book me-2"></i>
                    <span>Subjects</span>
                </a>
                <a href="/reports" class="nav-link">
                    <i class="bx bx-bar-chart-alt-2 me-2"></i>
                    <span>Reports</span>
                </a>
                <a href="/settings" class="nav-link">
                    <i class="bx bx-cog me-2"></i>
                    <span>Settings</span>
                </a>
            </div>
                    <i class="fas fa-fw fa-calendar-alt"></i>
                    <span>Sessions</span>
                </a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider d-none d-md-block">

            <!-- Sidebar Toggler (Sidebar) -->
            <div class="text-center d-none d-md-inline">
                <button class="rounded-circle border-0" id="sidebarToggle"></button>
            </div>
        </ul>
        <!-- End of Sidebar -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <!-- Top Navigation -->
            <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom py-3 px-4">
                <div class="d-flex align-items-center">
                    <i class="bx bx-menu fs-3 me-3 d-block d-lg-none" id="menu-toggle"></i>
                    <h4 class="mb-0 fw-bold">Dashboard</h4>
                </div>

                <div class="ms-auto d-flex align-items-center">
                    <div class="dropdown me-3">
                        <button class="btn btn-light rounded-circle p-2" type="button" id="themeToggle">
                            <i class="bx bx-moon fs-5"></i>
                        </button>
                    </div>
                    <div class="dropdown">
                        <button class="btn btn-light rounded-circle p-2" type="button" id="notificationDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bx bx-bell fs-5"></i>
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">3</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="notificationDropdown">
                            <li><h6 class="dropdown-header">Notifications</h6></li>
                            <li><a class="dropdown-item" href="#">New session request</a></li>
                            <li><a class="dropdown-item" href="#">Tutor availability updated</a></li>
                            <li><a class="dropdown-item" href="#">New message from student</a></li>
                        </ul>
                    </div>
                    <div class="dropdown ms-3">
                        <button class="btn p-0 border-0 d-flex align-items-center" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="https://ui-avatars.com/api/?name=Admin+User&background=5d87ff&color=fff" class="rounded-circle me-2" width="36" height="36" alt="User">
                            <span class="d-none d-md-inline">Admin User</span>
                            <i class="bx bx-chevron-down ms-1"></i>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" href="#"><i class="bx bx-user me-2"></i> Profile</a></li>
                            <li><a class="dropdown-item" href="#"><i class="bx bx-cog me-2"></i> Settings</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="/logout"><i class="bx bx-log-out me-2"></i> Logout</a></li>
                        </ul>
                    </div>
                </div>
            </nav>

                    <!-- Topbar Search -->
                    <form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
                        <div class="input-group">
                            <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..."
                                aria-label="Search" aria-describedby="basic-addon2">
                            <div class="input-group-append">
                                <button class="btn btn-primary" type="button">
                                    <i class="fas fa-search fa-sm"></i>
                                </button>
                            </div>
                        </div>
                    </form>

                    <!-- Topbar Navbar -->
                    <ul class="navbar-nav ml-auto">
                        <!-- Nav Item - Search Dropdown (Visible Only XS) -->
                        <li class="nav-item dropdown no-arrow d-sm-none">
                            <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-search fa-fw"></i>
                            </a>
                        </li>

                        <!-- Nav Item - Alerts -->
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-bell fa-fw"></i>
                                <!-- Counter - Alerts -->
                                <span class="badge badge-danger badge-counter">3+</span>
                            </a>
                        </li>

                        <!-- Nav Item - Messages -->
                        <li class="nav-item dropdown no-arrow mx-1">
                            <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-envelope fa-fw"></i>
                                <!-- Counter - Messages -->
                                <span class="badge badge-danger badge-counter">7</span>
                            </a>
                        </li>

                        <div class="topbar-divider d-none d-sm-block"></div>

                        <!-- Nav Item - User Information -->
                        <li class="nav-item dropdown no-arrow">
                            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="mr-2 d-none d-lg-inline text-gray-600 small">Admin User</span>
                                <img class="img-profile rounded-circle"
                                    src="https://source.unsplash.com/QAB-WJcbgJk/60x60">
                            </a>
                            <!-- Dropdown - User Information -->
                            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
                                aria-labelledby="userDropdown">
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Profile
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Settings
                                </a>
                                <a class="dropdown-item" href="#">
                                    <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Activity Log
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                                    <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                                    Logout
                                </a>
                            </div>
                        </li>
                    </ul>
                </nav>
                <!-- End of Topbar -->

            <!-- Main Content -->
            <div class="container-fluid px-4 py-3">
                <!-- Stats Cards -->
                <div class="row g-4 mb-4">
                    <div class="col-12 col-md-6 col-xl-3">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <div class="bg-primary bg-opacity-10 p-3 rounded-circle">
                                        <i class="bx bx-user text-primary fs-4"></i>
                                    </div>
                                    <div class="dropdown">
                                        <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            <i class="bx bx-dots-vertical-rounded"></i>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#">View All</a></li>
                                            <li><a class="dropdown-item" href="#">Export</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <h5 class="mb-1">1,258</h5>
                                <p class="text-muted mb-0">Total Students</p>
                                <div class="d-flex align-items-center mt-2">
                                    <span class="badge bg-primary bg-opacity-10 text-primary">
                                        <i class='bx bx-up-arrow-alt'></i> 12.8%
                                    </span>
                                    <span class="text-muted ms-2">vs last month</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-xl-3">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <div class="bg-success bg-opacity-10 p-3 rounded-circle">
                                        <i class="bx bx-chalkboard text-success fs-4"></i>
                                    </div>
                                    <div class="dropdown">
                                        <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            <i class="bx bx-dots-vertical-rounded"></i>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#">View All</a></li>
                                            <li><a class="dropdown-item" href="#">Export</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <h5 class="mb-1">248</h5>
                                <p class="text-muted mb-0">Active Tutors</p>
                                <div class="d-flex align-items-center mt-2">
                                    <span class="badge bg-success bg-opacity-10 text-success">
                                        <i class='bx bx-up-arrow-alt'></i> 8.2%
                                    </span>
                                    <span class="text-muted ms-2">vs last month</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-xl-3">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <div class="bg-warning bg-opacity-10 p-3 rounded-circle">
                                        <i class="bx bx-calendar text-warning fs-4"></i>
                                    </div>
                                    <div class="dropdown">
                                        <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            <i class="bx bx-dots-vertical-rounded"></i>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#">View All</a></li>
                                            <li><a class="dropdown-item" href="#">Export</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <h5 class="mb-1">1,847</h5>
                                <p class="text-muted mb-0">Monthly Sessions</p>
                                <div class="d-flex align-items-center mt-2">
                                    <span class="badge bg-warning bg-opacity-10 text-warning">
                                        <i class='bx bx-up-arrow-alt'></i> 3.1%
                                    </span>
                                    <span class="text-muted ms-2">vs last month</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-xl-3">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <div class="bg-info bg-opacity-10 p-3 rounded-circle">
                                        <i class="bx bx-dollar-circle text-info fs-4"></i>
                                    </div>
                                    <div class="dropdown">
                                        <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            <i class="bx bx-dots-vertical-rounded"></i>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#">View All</a></li>
                                            <li><a class="dropdown-item" href="#">Export</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <h5 class="mb-1">$12,846</h5>
                                <p class="text-muted mb-0">Total Revenue</p>
                                <div class="d-flex align-items-center mt-2">
                                    <span class="badge bg-info bg-opacity-10 text-info">
                                        <i class='bx bx-up-arrow-alt'></i> 12.4%
                                    </span>
                                    <span class="text-muted ms-2">vs last month</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Transactions & Charts -->
                <div class="row g-4">
                    <!-- Recent Transactions -->
                    <div class="col-12 col-xl-8">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-header bg-white border-0 py-3 d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Recent Transactions</h5>
                                <div class="dropdown">
                                    <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bx bx-dots-vertical"></i>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li><a class="dropdown-item" href="#">View All</a></li>
                                        <li><a class="dropdown-item" href="#">Export</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table class="table table-hover align-middle mb-0">
                                        <thead class="bg-light">
                                            <tr>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal">Student</th>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal">Subject</th>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal">Tutor</th>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal text-end">Amount</th>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal text-end">Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://ui-avatars.com/api/?name=John+Doe&background=5d87ff&color=fff" class="rounded-circle me-3" width="36" height="36" alt="User">
                                                        <div>
                                                            <h6 class="mb-0">John Doe</h6>
                                                            <small class="text-muted">#STD-001</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3">Mathematics</td>
                                                <td class="px-4 py-3">Sarah Johnson</td>
                                                <td class="px-4 py-3 text-end">$45.00</td>
                                                <td class="px-4 py-3 text-end">
                                                    <span class="badge bg-success bg-opacity-10 text-success">Completed</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://ui-avatars.com/api/?name=Emma+Smith&background=49beff&color=fff" class="rounded-circle me-3" width="36" height="36" alt="User">
                                                        <div>
                                                            <h6 class="mb-0">Emma Smith</h6>
                                                            <small class="text-muted">#STD-002</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3">Physics</td>
                                                <td class="px-4 py-3">Michael Brown</td>
                                                <td class="px-4 py-3 text-end">$50.00</td>
                                                <td class="px-4 py-3 text-end">
                                                    <span class="badge bg-warning bg-opacity-10 text-warning">Pending</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://ui-avatars.com/api/?name=David+Wilson&background=ffae1f&color=fff" class="rounded-circle me-3" width="36" height="36" alt="User">
                                                        <div>
                                                            <h6 class="mb-0">David Wilson</h6>
                                                            <small class="text-muted">#STD-003</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3">Chemistry</td>
                                                <td class="px-4 py-3">Jennifer Lee</td>
                                                <td class="px-4 py-3 text-end">$55.00</td>
                                                <td class="px-4 py-3 text-end">
                                                    <span class="badge bg-success bg-opacity-10 text-success">Completed</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://ui-avatars.com/api/?name=Lisa+Johnson&background=ff5b5b&color=fff" class="rounded-circle me-3" width="36" height="36" alt="User">
                                                        <div>
                                                            <h6 class="mb-0">Lisa Johnson</h6>
                                                            <small class="text-muted">#STD-004</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3">Biology</td>
                                                <td class="px-4 py-3">Robert Taylor</td>
                                                <td class="px-4 py-3 text-end">$48.00</td>
                                                <td class="px-4 py-3 text-end">
                                                    <span class="badge bg-danger bg-opacity-10 text-danger">Cancelled</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="card-footer bg-white border-0 py-3 text-end">
                                <a href="#" class="btn btn-outline-primary btn-sm">View All Transactions</a>
                            </div>
                        </div>
                    </div>

                    <!-- Weekly Revenue -->
                    <div class="col-12 col-xl-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-header bg-white border-0 py-3">
                                <h5 class="mb-0">Weekly Revenue</h5>
                            </div>
                            <div class="card-body">
                                <div id="weeklyRevenueChart" style="min-height: 300px;">
                                    <!-- Chart will be rendered here -->
                                    <div class="text-center py-5">
                                        <div class="spinner-border text-primary" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span class="text-muted">Target</span>
                                        <span class="fw-bold">$12,500</span>
                                    </div>
                                    <div class="progress" style="height: 8px;">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 85%;" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div class="d-flex justify-content-between mt-3">
                                        <div>
                                            <h6 class="mb-0">$10,624</h6>
                                            <small class="text-muted">Total Revenue</small>
                                        </div>
                                        <div class="text-end">
                                            <h6 class="mb-0 text-success">+15.2%</h6>
                                            <small class="text-muted">vs last week</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tutors Section -->
                <div class="row g-4 mb-4">
                    <div class="col-12">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-white border-0 py-3 d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Tutor Management</h5>
                                <div>
                                    <div class="input-group" style="max-width: 300px;">
                                        <span class="input-group-text bg-transparent"><i class="bx bx-search"></i></span>
                                        <input type="text" class="form-control" placeholder="Search tutors..." id="tutorSearch">
                                        <button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#addTutorModal">
                                            <i class="bx bx-plus"></i> Add Tutor
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row g-4" id="tutorsContainer">
                                    <!-- Tutor Card 1 -->
                                    <div class="col-12 col-md-6 col-lg-4 col-xl-3">
                                        <div class="card tutor-card border-0 shadow-sm h-100">
                                            <div class="card-body text-center p-4">
                                                <div class="position-relative d-inline-block mb-3">
                                                    <img src="https://ui-avatars.com/api/?name=Sarah+Johnson&background=5d87ff&color=fff" 
                                                         class="rounded-circle tutor-avatar mb-2" alt="Tutor">
                                                    <span class="position-absolute bottom-0 end-0 bg-success rounded-circle p-1 border-2 border-white">
                                                        <i class="bx bxs-check-circle text-white"></i>
                                                    </span>
                                                </div>
                                                <h5 class="mb-1">Sarah Johnson</h5>
                                                <p class="text-muted mb-2">Mathematics Tutor</p>
                                                <div class="rating-stars mb-3">
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star-half"></i>
                                                    <span class="text-muted ms-1">4.7</span>
                                                </div>
                                                <div class="d-flex flex-wrap justify-content-center gap-2 mb-3">
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">Calculus</span>
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">Algebra</span>
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">+2</span>
                                                </div>
                                                <div class="d-flex justify-content-center gap-2">
                                                    <button class="btn btn-sm btn-outline-primary">
                                                        <i class="bx bx-envelope"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-secondary">
                                                        <i class="bx bx-calendar"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-info">
                                                        <i class="bx bx-show"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-danger">
                                                        <i class="bx bx-trash"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Tutor Card 2 -->
                                    <div class="col-12 col-md-6 col-lg-4 col-xl-3">
                                        <div class="card tutor-card border-0 shadow-sm h-100">
                                            <div class="card-body text-center p-4">
                                                <div class="position-relative d-inline-block mb-3">
                                                    <img src="https://ui-avatars.com/api/?name=Michael+Brown&background=49beff&color=fff" 
                                                         class="rounded-circle tutor-avatar mb-2" alt="Tutor">
                                                    <span class="position-absolute bottom-0 end-0 bg-success rounded-circle p-1 border-2 border-white">
                                                        <i class="bx bxs-check-circle text-white"></i>
                                                    </span>
                                                </div>
                                                <h5 class="mb-1">Michael Brown</h5>
                                                <p class="text-muted mb-2">Physics Tutor</p>
                                                <div class="rating-stars mb-3">
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bx-star"></i>
                                                    <span class="text-muted ms-1">4.0</span>
                                                </div>
                                                <div class="d-flex flex-wrap justify-content-center gap-2 mb-3">
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">Mechanics</span>
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">Thermodynamics</span>
                                                </div>
                                                <div class="d-flex justify-content-center gap-2">
                                                    <button class="btn btn-sm btn-outline-primary">
                                                        <i class="bx bx-envelope"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-secondary">
                                                        <i class="bx bx-calendar"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-info">
                                                        <i class="bx bx-show"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-danger">
                                                        <i class="bx bx-trash"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Tutor Card 3 -->
                                    <div class="col-12 col-md-6 col-lg-4 col-xl-3">
                                        <div class="card tutor-card border-0 shadow-sm h-100">
                                            <div class="card-body text-center p-4">
                                                <div class="position-relative d-inline-block mb-3">
                                                    <img src="https://ui-avatars.com/api/?name=Jennifer+Lee&background=ffae1f&color=fff" 
                                                         class="rounded-circle tutor-avatar mb-2" alt="Tutor">
                                                    <span class="position-absolute bottom-0 end-0 bg-secondary rounded-circle p-1 border-2 border-white">
                                                        <i class="bx bx-time text-white"></i>
                                                    </span>
                                                </div>
                                                <h5 class="mb-1">Jennifer Lee</h5>
                                                <p class="text-muted mb-2">Chemistry Tutor</p>
                                                <div class="rating-stars mb-3">
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <span class="text-muted ms-1">5.0</span>
                                                </div>
                                                <div class="d-flex flex-wrap justify-content-center gap-2 mb-3">
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">Organic</span>
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">Inorganic</span>
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">+1</span>
                                                </div>
                                                <div class="d-flex justify-content-center gap-2">
                                                    <button class="btn btn-sm btn-outline-primary">
                                                        <i class="bx bx-envelope"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-secondary">
                                                        <i class="bx bx-calendar"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-info">
                                                        <i class="bx bx-show"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-danger">
                                                        <i class="bx bx-trash"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Tutor Card 4 -->
                                    <div class="col-12 col-md-6 col-lg-4 col-xl-3">
                                        <div class="card tutor-card border-0 shadow-sm h-100">
                                            <div class="card-body text-center p-4">
                                                <div class="position-relative d-inline-block mb-3">
                                                    <img src="https://ui-avatars.com/api/?name=Robert+Taylor&background=ff5b5b&color=fff" 
                                                         class="rounded-circle tutor-avatar mb-2" alt="Tutor">
                                                    <span class="position-absolute bottom-0 end-0 bg-danger rounded-circle p-1 border-2 border-white">
                                                        <i class="bx bx-x text-white"></i>
                                                    </span>
                                                </div>
                                                <h5 class="mb-1">Robert Taylor</h5>
                                                <p class="text-muted mb-2">Biology Tutor</p>
                                                <div class="rating-stars mb-3">
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <i class="bx bxs-star"></i>
                                                    <span class="text-muted ms-1">4.9</span>
                                                </div>
                                                <div class="d-flex flex-wrap justify-content-center gap-2 mb-3">
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">Genetics</span>
                                                    <span class="badge bg-primary bg-opacity-10 text-primary subject-badge">Microbiology</span>
                                                </div>
                                                <div class="d-flex justify-content-center gap-2">
                                                    <button class="btn btn-sm btn-outline-primary">
                                                        <i class="bx bx-envelope"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-secondary">
                                                        <i class="bx bx-calendar"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-info">
                                                        <i class="bx bx-show"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-danger">
                                                        <i class="bx bx-trash"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-white border-0 py-3 d-flex justify-content-between align-items-center">
                                <div class="text-muted small">Showing 1 to 4 of 12 tutors</div>
                                <nav>
                                    <ul class="pagination pagination-sm mb-0">
                                        <li class="page-item disabled">
                                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                                        </li>
                                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                                        <li class="page-item">
                                            <a class="page-link" href="#">Next</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bottom Row -->
                <div class="row g-4 mt-0">
                    <!-- Subject Distribution -->
                    <div class="col-12 col-xl-4">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-header bg-white border-0 py-3 d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Subject Distribution</h5>
                                <div class="dropdown">
                                    <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bx bx-dots-vertical"></i>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li><a class="dropdown-item" href="#">View All</a></li>
                                        <li><a class="dropdown-item" href="#">Export</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="subjectDistributionChart" style="min-height: 300px;">
                                    <!-- Chart will be rendered here -->
                                    <div class="text-center py-5">
                                        <div class="spinner-border text-primary" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="bg-primary bg-opacity-10 p-2 rounded me-2">
                                            <i class="bx bx-math text-primary"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="d-flex justify-content-between">
                                                <span>Mathematics</span>
                                                <span class="fw-bold">42%</span>
                                            </div>
                                            <div class="progress mt-1" style="height: 4px;">
                                                <div class="progress-bar bg-primary" role="progressbar" style="width: 42%;" aria-valuenow="42" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="bg-success bg-opacity-10 p-2 rounded me-2">
                                            <i class="bx bx-atom text-success"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="d-flex justify-content-between">
                                                <span>Physics</span>
                                                <span class="fw-bold">28%</span>
                                            </div>
                                            <div class="progress mt-1" style="height: 4px;">
                                                <div class="progress-bar bg-success" role="progressbar" style="width: 28%;" aria-valuenow="28" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-center">
                                        <div class="bg-warning bg-opacity-10 p-2 rounded me-2">
                                            <i class="bx bx-test-tube text-warning"></i>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="d-flex justify-content-between">
                                                <span>Chemistry</span>
                                                <span class="fw-bold">18%</span>
                                            </div>
                                            <div class="progress mt-1" style="height: 4px;">
                                                <div class="progress-bar bg-warning" role="progressbar" style="width: 18%;" aria-valuenow="18" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tutor Performance -->
                    <div class="col-12 col-xl-8">
                        <div class="card border-0 shadow-sm h-100">
                            <div class="card-header bg-white border-0 py-3 d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Tutor Performance</h5>
                                <div class="dropdown">
                                    <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bx bx-dots-vertical"></i>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li><a class="dropdown-item" href="#">View All</a></li>
                                        <li><a class="dropdown-item" href="#">Export</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover align-middle mb-0">
                                        <thead class="bg-light">
                                            <tr>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal">Tutor</th>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal">Subject</th>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal">Sessions</th>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal">Rating</th>
                                                <th class="px-4 py-3 text-uppercase text-muted font-weight-normal text-end">Performance</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://ui-avatars.com/api/?name=Sarah+Johnson&background=5d87ff&color=fff" class="rounded-circle me-3" width="36" height="36" alt="User">
                                                        <div>
                                                            <h6 class="mb-0">Sarah Johnson</h6>
                                                            <small class="text-muted">Mathematics</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3">Mathematics</td>
                                                <td class="px-4 py-3">128</td>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <div class="rating me-2">
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                        </div>
                                                        <span class="fw-bold">4.9</span>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3 text-end">
                                                    <div class="progress" style="height: 6px;">
                                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 90%;" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://ui-avatars.com/api/?name=Michael+Brown&background=49beff&color=fff" class="rounded-circle me-3" width="36" height="36" alt="User">
                                                        <div>
                                                            <h6 class="mb-0">Michael Brown</h6>
                                                            <small class="text-muted">Physics</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3">Physics</td>
                                                <td class="px-4 py-3">95</td>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <div class="rating me-2">
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star-half text-warning"></i>
                                                        </div>
                                                        <span class="fw-bold">4.6</span>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3 text-end">
                                                    <div class="progress" style="height: 6px;">
                                                        <div class="progress-bar bg-success" role="progressbar" style="width: 85%;" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://ui-avatars.com/api/?name=Jennifer+Lee&background=ffae1f&color=fff" class="rounded-circle me-3" width="36" height="36" alt="User">
                                                        <div>
                                                            <h6 class="mb-0">Jennifer Lee</h6>
                                                            <small class="text-muted">Chemistry</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3">Chemistry</td>
                                                <td class="px-4 py-3">78</td>
                                                <td class="px-4 py-3">
                                                    <div class="d-flex align-items-center">
                                                        <div class="rating me-2">
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bxs-star text-warning"></i>
                                                            <i class="bx bx-star text-muted"></i>
                                                        </div>
                                                        <span class="fw-bold">4.0</span>
                                                    </div>
                                                </td>
                                                <td class="px-4 py-3 text-end">
                                                    <div class="progress" style="height: 6px;">
                                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="bg-white border-top py-3 mt-auto">
                <div class="container-fluid px-4">
                    <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
                        <div class="text-muted small">
                            &copy; 2025 Peer Tutoring Scheduler. All rights reserved.
                        </div>
                        <div class="d-flex gap-3">
                            <a href="#" class="text-muted text-decoration-none">Privacy</a>
                            <a href="#" class="text-muted text-decoration-none">Terms</a>
                            <a href="#" class="text-muted text-decoration-none">Help</a>
                        </div>
                    </div>
                </div>
            </footer>
                                                Total Students</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800" th:text="${studentCount}">0</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-user-graduate fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tutors Card -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-success shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                Active Tutors</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800" th:text="${tutorCount}">0</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-chalkboard-teacher fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Sessions Card -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-info shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                                                Upcoming Sessions</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800" th:text="${upcomingSessions}">0</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-calendar-alt fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pending Requests Card -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-warning shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                                Pending Requests</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800" th:text="${pendingRequests}">0</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-comments fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Content Row -->
                    <div class="row">
                        <!-- Area Chart -->
                        <div class="col-xl-8 col-lg-7">
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Sessions Overview</h6>
                                    <div class="dropdown no-arrow">
                                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                                            aria-labelledby="dropdownMenuLink">
                                            <div class="dropdown-header">View Options:</div>
                                            <a class="dropdown-item" href="#">Weekly</a>
                                            <a class="dropdown-item" href="#">Monthly</a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="#">Export Data</a>
                                        </div>
                                    </div>
                                </div>
                                <!-- Card Body -->
                                <div class="card-body">
                                    <div class="chart-area">
                                        <canvas id="sessionsChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pie Chart -->
                        <div class="col-xl-4 col-lg-5">
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Students by Subject</h6>
                                    <div class="dropdown no-arrow">
                                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                                            aria-labelledby="dropdownMenuLink">
                                            <div class="dropdown-header">View Options:</div>
                                            <a class="dropdown-item" href="#">By Subject</a>
                                            <a class="dropdown-item" href="#">By Grade</a>
                                        </div>
                                    </div>
                                </div>
                                <!-- Card Body -->
                                <div class="card-body">
                                    <div class="chart-pie pt-4 pb-2">
                                        <canvas id="subjectsChart"></canvas>
                                    </div>
                                    <div class="mt-4 text-center small">
                                        <span class="mr-2">
                                            <i class="fas fa-circle text-primary"></i> Math
                                        </span>
                                        <span class="mr-2">
                                            <i class="fas fa-circle text-success"></i> Science
                                        </span>
                                        <span class="mr-2">
                                            <i class="fas fa-circle text-info"></i> English
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Content Row -->
                    <div class="row">
                        <!-- Recent Sessions -->
                        <div class="col-lg-6 mb-4">
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">Recent Sessions</h6>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-bordered" width="100%" cellspacing="0">
                                            <thead>
                                                <tr>
                                                    <th>Subject</th>
                                                    <th>Tutor</th>
                                                    <th>Student</th>
                                                    <th>Time</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Mathematics</td>
                                                    <td>John Doe</td>
                                                    <td>Jane Smith</td>
                                                    <td>Today, 2:00 PM</td>
                                                    <td><span class="badge badge-success">Completed</span></td>
                                                </tr>
                                                <tr>
                                                    <td>Physics</td>
                                                    <td>Alice Johnson</td>
                                                    <td>Bob Wilson</td>
                                                    <td>Tomorrow, 10:00 AM</td>
                                                    <td><span class="badge badge-warning">Scheduled</span></td>
                                                </tr>
                                                <tr>
                                                    <td>English</td>
                                                    <td>Mike Brown</td>
                                                    <td>Sarah Davis</td>
                                                    <td>Tomorrow, 3:30 PM</td>
                                                    <td><span class="badge badge-info">Confirmed</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <a href="/sessions" class="btn btn-primary btn-block mt-2">View All Sessions</a>
                                </div>
                            </div>
                        </div>

                        <!-- Upcoming Deadlines -->
                        <div class="col-lg-6 mb-4">
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">Upcoming Deadlines</h6>
                                </div>
                                <div class="card-body">
                                    <div class="activity-feed">
                                        <div class="activity-item d-flex">
                                            <div class="activity-badge bg-primary text-white rounded-circle">
                                                <i class="fas fa-book"></i>
                                            </div>
                                            <div class="activity-content pl-3">
                                                <h6 class="font-weight-bold mb-0">Math Assignment</h6>
                                                <p class="text-muted small mb-2">Due: Tomorrow, 11:59 PM</p>
                                                <p class="mb-0">Complete chapters 5-7 exercises</p>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="activity-item d-flex">
                                            <div class="activity-badge bg-success text-white rounded-circle">
                                                <i class="fas fa-flask"></i>
                                            </div>
                                            <div class="activity-content pl-3">
                                                <h6 class="font-weight-bold mb-0">Science Project</h6>
                                                <p class="text-muted small mb-2">Due: In 3 days</p>
                                                <p class="mb-0">Submit research paper on renewable energy</p>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="activity-item d-flex">
                                            <div class="activity-badge bg-info text-white rounded-circle">
                                                <i class="fas fa-book-reader"></i>
                                            </div>
                                            <div class="activity-content pl-3">
                                                <h6 class="font-weight-bold mb-0">Literature Review</h6>
                                                <p class="text-muted small mb-2">Due: Next Monday</p>
                                                <p class="mb-0">Read and analyze the assigned novel</p>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="#" class="btn btn-outline-primary btn-block mt-3">View All Tasks</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; Peer Tutoring Scheduler 2023</span>
                    </div>
                </div>
            </footer>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Bootstrap core JavaScript-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    
    <!-- Custom scripts for all pages-->
    <script>
        // Toggle the side navigation
        $(document).ready(function() {
            // Toggle sidebar
            $('#sidebarToggle, #sidebarToggleTop').on('click', function(e) {
                $('body').toggleClass('sidebar-toggled');
                $('.sidebar').toggleClass('toggled');
                if ($('.sidebar').hasClass('toggled')) {
                    $('.sidebar .collapse').collapse('hide');
                }
            });

            // Close any open menu accordions when window is resized below 768px
            $(window).resize(function() {
                if ($(window).width() < 768) {
                    $('.sidebar .collapse').collapse('hide');
                }
                
                // Toggle the side navigation when window is resized below 480px
                if ($(window).width() < 480 && !$('.sidebar').hasClass('toggled')) {
                    $('body').addClass('sidebar-toggled');
                    $('.sidebar').addClass('toggled');
                    $('.sidebar .collapse').collapse('hide');
                }
            });

            // Prevent the content wrapper from scrolling when the fixed side navigation hovered over
            $('body.fixed-nav .sidebar').on('mousewheel DOMMouseScroll wheel', function(e) {
                if ($(window).width() > 768) {
                    var e0 = e.originalEvent,
                        delta = e0.wheelDelta || -e0.detail;
                    this.scrollTop += (delta < 0 ? 1 : -1) * 30;
                    e.preventDefault();
                }
            });

            // Scroll to top button appear
            $(document).on('scroll', function() {
                var scrollDistance = $(this).scrollTop();
                if (scrollDistance > 100) {
                    $('.scroll-to-top').fadeIn();
                } else {
                    $('.scroll-to-top').fadeOut();
                }
            });

            // Smooth scrolling using jQuery easing
            $(document).on('click', 'a.scroll-to-top', function(e) {
                var $anchor = $(this);
                $('html, body').stop().animate({
                    scrollTop: ($($anchor.attr('href')).offset().top)
                }, 1000, 'easeInOutExpo');
                e.preventDefault();
            });

            // Initialize charts
            initializeCharts();
        });

        // Initialize all charts
        function initializeCharts() {
            // Area Chart - Sessions Overview
            var ctx = document.getElementById('sessionsChart');
            if (ctx) {
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                        datasets: [{
                            label: 'Sessions',
                            lineTension: 0.3,
                            backgroundColor: 'rgba(78, 115, 223, 0.05)',
                            borderColor: 'rgba(78, 115, 223, 1)',
                            pointRadius: 3,
                            pointBackgroundColor: 'rgba(78, 115, 223, 1)',
                            pointBorderColor: 'rgba(78, 115, 223, 1)',
                            pointHoverRadius: 3,
                            pointHoverBackgroundColor: 'rgba(78, 115, 223, 1)',
                            pointHoverBorderColor: 'rgba(78, 115, 223, 1)',
                            pointHitRadius: 10,
                            pointBorderWidth: 2,
                            data: [0, 15, 25, 35, 45, 55, 65],
                        }],
                    },
                    options: {
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                left: 10,
                                right: 25,
                                top: 25,
                                bottom: 0
                            }
                        },
                        scales: {
                            x: {
                                grid: {
                                    display: false,
                                    drawBorder: false
                                },
                                ticks: {
                                    maxTicksLimit: 7
                                }
                            },
                            y: {
                                ticks: {
                                    maxTicksLimit: 5,
                                    padding: 10,
                                },
                                grid: {
                                    color: 'rgb(234, 236, 244)',
                                    zeroLineColor: 'rgb(234, 236, 244)',
                                    drawBorder: false,
                                    borderDash: [2],
                                    zeroLineBorderDash: [2]
                                }
                            },
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: 'rgb(255,255,255)',
                                bodyColor: '#858796',
                                titleMarginBottom: 10,
                                titleFontColor: '#6e707e',
                                titleFontSize: 14,
                                borderColor: '#dddfeb',
                                borderWidth: 1,
                                xPadding: 15,
                                yPadding: 15,
                                displayColors: false,
                                intersect: false,
                                mode: 'index',
                                caretPadding: 10,
                            }
                        }
                    }
                });
            }

            // Pie Chart - Students by Subject
            var ctx2 = document.getElementById('subjectsChart');
            if (ctx2) {
                new Chart(ctx2, {
                    type: 'doughnut',
                    data: {
                        labels: ['Math', 'Science', 'English', 'History', 'Other'],
                        datasets: [{
                            data: [35, 25, 20, 15, 5],
                            backgroundColor: ['#4e73df', '#1cc88a', '#36b9cc', '#f6c23e', '#e74a3b'],
                            hoverBackgroundColor: ['#2e59d9', '#17a673', '#2c9faf', '#dda20a', '#be2617'],
                            hoverBorderColor: 'rgba(234, 236, 244, 1)',
                        }],
                    },
                    options: {
                        maintainAspectRatio: false,
                        tooltips: {
                            backgroundColor: 'rgb(255,255,255)',
                            bodyFontColor: '#858796',
                            borderColor: '#dddfeb',
                            borderWidth: 1,
                            xPadding: 15,
                            yPadding: 15,
                            displayColors: false,
                            caretPadding: 10,
                        },
                        legend: {
                            display: false
                        },
                        cutout: '80%',
                    },
                });
            }
        }
    </script>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="/logout">Logout</a>
                </div>
            </div>
        </div>
    </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="students">
                                <i class="bi bi-people me-1"></i> Students
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="tutors">
                                <i class="bi bi-person-workspace me-1"></i> Tutors
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="sessions">
                                <i class="bi bi-calendar3 me-1"></i> Sessions
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="admin">
                                <i class="bi bi-shield-lock me-1"></i> Admin
                            </a>
                        </li>
                    </ul>
                    <div class="d-flex align-items-center">
                        <button type="button" class="btn btn-outline-light me-2 theme-toggle" data-toggle-theme aria-label="Toggle theme">
                            <i class="bi"></i>
                        </button>
                        <div class="dropdown">
                            <button class="btn btn-light dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown">
                                <i class="bi bi-person-circle me-1"></i> Admin
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>Profile</a></li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Settings</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item text-danger" href="#"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="flex-grow-1 py-4">
            <div class="container">
                <!-- Overview Section -->
                <div id="overview" class="section active">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 class="h4 fw-bold mb-0">Dashboard Overview</h2>
                        <div>
                            <button class="btn btn-primary">
                                <i class="bi bi-plus-lg me-1"></i> Quick Action
                            </button>
                        </div>
                    </div>

                    <!-- Stats Cards -->
                    <div class="row g-3 mb-4">
                        <div class="col-12 col-md-6 col-lg-3">
                            <div class="card stat-card students border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <h6 class="text-uppercase text-muted mb-1">Students</h6>
                                            <h3 class="mb-0 fw-bold" th:text="${studentCount} ?: 0">0</h3>
                                        </div>
                                        <div class="bg-success bg-opacity-10 p-3 rounded-circle">
                                            <i class="bi bi-mortarboard text-success fs-4"></i>
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <a href="#" class="text-decoration-none" data-section="students">
                                            View all students <i class="bi bi-arrow-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-md-6 col-lg-3">
                            <div class="card stat-card tutors border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <h6 class="text-uppercase text-muted mb-1">Tutors</h6>
                                            <h3 class="mb-0 fw-bold" th:text="${tutorCount} ?: 0">0</h3>
                                        </div>
                                        <div class="bg-primary bg-opacity-10 p-3 rounded-circle">
                                            <i class="bi bi-person-workspace text-primary fs-4"></i>
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <a href="#" class="text-decoration-none" data-section="tutors">
                                            View all tutors <i class="bi bi-arrow-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-md-6 col-lg-3">
                            <div class="card stat-card sessions border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <h6 class="text-uppercase text-muted mb-1">Sessions</h6>
                                            <h3 class="mb-0 fw-bold" th:text="${sessionCount} ?: 0">0</h3>
                                        </div>
                                        <div class="bg-warning bg-opacity-10 p-3 rounded-circle">
                                            <i class="bi bi-calendar3 text-warning fs-4"></i>
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <a href="#" class="text-decoration-none" data-section="sessions">
                                            View all sessions <i class="bi bi-arrow-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-md-6 col-lg-3">
                            <div class="card stat-card admins border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <h6 class="text-uppercase text-muted mb-1">Admins</h6>
                                            <h3 class="mb-0 fw-bold" th:text="${adminCount} ?: 0">0</h3>
                                        </div>
                                        <div class="bg-purple bg-opacity-10 p-3 rounded-circle">
                                            <i class="bi bi-shield-lock text-purple fs-4"></i>
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <a href="#" class="text-decoration-none" data-section="admin">
                                            View all admins <i class="bi bi-arrow-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="row">
                        <div class="col-12 col-lg-8">
                            <div class="card border-0 shadow-sm mb-4">
                                <div class="card-header bg-white border-0 py-3">
                                    <h5 class="mb-0">Recent Sessions</h5>
                                </div>
                                <div class="card-body p-0">
                                    <div class="table-responsive">
                                        <table class="table table-hover align-middle mb-0">
                                            <thead class="bg-light">
                                                <tr>
                                                    <th>Student</th>
                                                    <th>Tutor</th>
                                                    <th>Subject</th>
                                                    <th>Date/Time</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="session : ${recentSessions}">
                                                    <td th:text="${session.studentName}">John Doe</td>
                                                    <td th:text="${session.tutorName}">Jane Smith</td>
                                                    <td th:text="${session.subject}">Mathematics</td>
                                                    <td>
                                                        <span th:text="${#temporals.format(session.sessionDate, 'MMM d, yyyy')}">Oct 23, 2023</span><br>
                                                        <small class="text-muted" th:text="${#temporals.format(session.startTime, 'h:mm a')} + ' - ' + ${#temporals.format(session.endTime, 'h:mm a')}">2:00 PM - 3:00 PM</small>
                                                    </td>
                                                    <td>
                                                        <span class="badge bg-success" th:classappend="${session.status == 'Scheduled'} ? 'bg-warning' : (${session.status == 'Completed'} ? 'bg-success' : 'bg-secondary')" th:text="${session.status}">Scheduled</span>
                                                    </td>
                                                </tr>
                                                <tr th:if="${recentSessions == null || recentSessions.isEmpty()}">
                                                    <td colspan="5" class="text-center py-4 text-muted">
                                                        <i class="bi bi-calendar-x fs-1 d-block mb-2"></i>
                                                        No recent sessions found
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="card-footer bg-white border-0 py-3 text-end">
                                    <a href="#" class="btn btn-outline-primary btn-sm" data-section="sessions">View All Sessions</a>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-lg-4">
                            <div class="card border-0 shadow-sm">
                                <div class="card-header bg-white border-0 py-3">
                                    <h5 class="mb-0">Quick Actions</h5>
                                </div>
                                <div class="card-body p-0">
                                    <div class="list-group list-group-flush">
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" data-section="students">
                                            <div class="bg-success bg-opacity-10 p-2 rounded me-3">
                                                <i class="bi bi-person-plus text-success"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-0">Add New Student</h6>
                                                <small class="text-muted">Register a new student</small>
                                            </div>
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" data-section="tutors">
                                            <div class="bg-primary bg-opacity-10 p-2 rounded me-3">
                                                <i class="bi bi-person-plus text-primary"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-0">Add New Tutor</h6>
                                                <small class="text-muted">Register a new tutor</small>
                                            </div>
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" data-section="sessions">
                                            <div class="bg-warning bg-opacity-10 p-2 rounded me-3">
                                                <i class="bi bi-calendar-plus text-warning"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-0">Schedule Session</h6>
                                                <small class="text-muted">Create a new tutoring session</small>
                                            </div>
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" data-section="admin">
                                            <div class="bg-purple bg-opacity-10 p-2 rounded me-3">
                                                <i class="bi bi-shield-plus text-purple"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-0">Add Admin</h6>
                                                <small class="text-muted">Create a new admin account</small>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats Row -->
                <div class="row mb-4">
                    <div class="col-12 col-md-6 col-lg-3 mb-3">
                        <div class="card border-left-success h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center">
                                    <div class="icon-circle bg-success text-white me-3">
                                        <i class="fas fa-calendar-check"></i>
                                    </div>
                                    <div>
                                        <div class="text-xs font-weight-bold text-success mb-1">Today's Sessions</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800">8</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-3 mb-3">
                        <div class="card border-left-info h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center">
                                    <div class="icon-circle bg-info text-white me-3">
                                        <i class="fas fa-user-clock"></i>
                                    </div>
                                    <div>
                                        <div class="text-xs font-weight-bold text-info mb-1">Available Tutors</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800">12</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-3 mb-3">
                        <div class="card border-left-warning h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center">
                                    <div class="icon-circle bg-warning text-white me-3">
                                        <i class="fas fa-tasks"></i>
                                    </div>
                                    <div>
                                        <div class="text-xs font-weight-bold text-warning mb-1">Pending Requests</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800">5</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-3 mb-3">
                        <div class="card border-left-primary h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center">
                                    <div class="icon-circle bg-primary text-white me-3">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <div>
                                        <div class="text-xs font-weight-bold text-primary mb-1">Avg. Session Rating</div>
                                        <div class="h5 mb-0 font-weight-bold text-gray-800">4.7/5.0</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Content Row -->
                <div class="row">
                    <!-- Tutor Availability Calendar -->
                    <div class="col-12 col-lg-6 mb-4">
                        <div class="card shadow h-100">
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary">Tutor Availability</h6>
                                <div class="dropdown no-arrow">
                                    <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-end shadow">
                                        <li><a class="dropdown-item" href="#">This Week</a></li>
                                        <li><a class="dropdown-item" href="#">Next Week</a></li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li><a class="dropdown-item" href="#">View All</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="tutorCalendar"></div>
                                <div class="mt-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <div class="badge bg-primary me-2" style="width: 15px; height: 15px;"></div>
                                        <small>Available</small>
                                    </div>
                                    <div class="d-flex align-items-center">
                                        <div class="badge bg-light me-2" style="width: 15px; height: 15px; border: 1px solid #ddd;"></div>
                                        <small>Booked</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Session Progress -->
                    <div class="col-12 col-lg-6 mb-4">
                        <div class="card shadow h-100">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Session Progress</h6>
                            </div>
                            <div class="card-body">
                                <div class="mb-4">
                                    <div class="d-flex justify-content-between mb-1">
                                        <span>Mathematics</span>
                                        <small>75%</small>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                                <div class="mb-4">
                                    <div class="d-flex justify-content-between mb-1">
                                        <span>Physics</span>
                                        <small>60%</small>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-info" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                                <div class="mb-4">
                                    <div class="d-flex justify-content-between mb-1">
                                        <span>Chemistry</span>
                                        <small>45%</small>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 45%" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                                <div class="mb-2">
                                    <div class="d-flex justify-content-between mb-1">
                                        <span>Biology</span>
                                        <small>30%</small>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-danger" role="progressbar" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Upcoming Sessions Timeline -->
                <div class="row">
                    <div class="col-12">
                        <div class="card shadow mb-4">
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h6 class="m-0 font-weight-bold text-primary">Upcoming Sessions Timeline</h6>
                                <div class="dropdown no-arrow">
                                    <a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-end shadow">
                                        <li><a class="dropdown-item" href="#">Today</a></li>
                                        <li><a class="dropdown-item" href="#">This Week</a></li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li><a class="dropdown-item" href="#">View All</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="timeline">
                                    <div class="timeline-item">
                                        <div class="timeline-point"></div>
                                        <div class="timeline-content">
                                            <div class="d-flex justify-content-between">
                                                <h6 class="mb-1">Mathematics Tutoring</h6>
                                                <small class="text-muted">Today, 2:00 PM</small>
                                            </div>
                                            <p class="mb-1">Algebra Basics with John Doe</p>
                                            <div class="d-flex">
                                                <span class="badge bg-primary me-2">In-Person</span>
                                                <span class="badge bg-success">Confirmed</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="timeline-item">
                                        <div class="timeline-point bg-warning"></div>
                                        <div class="timeline-content">
                                            <div class="d-flex justify-content-between">
                                                <h6 class="mb-1">Physics Workshop</h6>
                                                <small class="text-muted">Tomorrow, 10:00 AM</small>
                                            </div>
                                            <p class="mb-1">Mechanics Review with Sarah Smith</p>
                                            <div class="d-flex">
                                                <span class="badge bg-info me-2">Online</span>
                                                <span class="badge bg-warning">Pending</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="timeline-item">
                                        <div class="timeline-point bg-info"></div>
                                        <div class="timeline-content">
                                            <div class="d-flex justify-content-between">
                                                <h6 class="mb-1">Chemistry Study Group</h6>
                                                <small class="text-muted">Tomorrow, 3:30 PM</small>
                                            </div>
                                            <p class="mb-1">Organic Chemistry Concepts</p>
                                            <div class="d-flex">
                                                <span class="badge bg-primary me-2">In-Person</span>
                                                <span class="badge bg-success">Confirmed</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="row">
                    <div class="col-12 col-lg-4">
                        <div class="card border-0 shadow-sm mb-4">
                            <div class="card-header bg-white border-0 py-3">
                                <h5 class="mb-0">Recent Sessions</h5>
                            </div>
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table class="table table-hover align-middle mb-0">
                                        <thead class="bg-light">
                                            <tr>
                                                <th>Student</th>
                                                <th>Tutor</th>
                                                <th>Subject</th>
                                                <th>Date/Time</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="session : ${recentSessions}">
                                                <td th:text="${session.studentName}">John Doe</td>
                                                <td th:text="${session.tutorName}">Jane Smith</td>
                                                <td th:text="${session.subject}">Mathematics</td>
                                                <td>
                                                    <span th:text="${#temporals.format(session.sessionDate, 'MMM d, yyyy')}">Oct 23, 2023</span><br>
                                                    <small class="text-muted" th:text="${#temporals.format(session.startTime, 'h:mm a')} + ' - ' + ${#temporals.format(session.endTime, 'h:mm a')}">2:00 PM - 3:00 PM</small>
                                                </td>
                                                <td>
                                                    <span class="badge bg-success" th:classappend="${session.status == 'Scheduled'} ? 'bg-warning' : (${session.status == 'Completed'} ? 'bg-success' : 'bg-secondary')" th:text="${session.status}">Scheduled</span>
                                                </td>
                                            </tr>
                                            <tr th:if="${recentSessions == null || recentSessions.isEmpty()}">
                                                <td colspan="5" class="text-center py-4 text-muted">
                                                    <i class="bi bi-calendar-x fs-1 d-block mb-2"></i>
                                                    No recent sessions found
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="card-footer bg-white border-0 py-3 text-end">
                                <a href="#" class="btn btn-outline-primary btn-sm" data-section="sessions">View All Sessions</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-white border-top py-3 mt-auto">
            <div class="container">
                <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
                    <div class="text-muted small mb-2 mb-md-0">
                        &copy; 2023 Peer Tutoring Scheduler. All rights reserved.
                    </div>
                    <div class="d-flex gap-3">
                        <a href="#" class="text-muted text-decoration-none">Privacy</a>
                        <a href="#" class="text-muted text-decoration-none">Terms</a>
                        <a href="#" class="text-muted text-decoration-none">Help</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="/js/theme.js"></script>
    
    <!-- Tutor Search Functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tutorSearch = document.getElementById('tutorSearch');
            if (tutorSearch) {
                tutorSearch.addEventListener('input', function(e) {
                    const searchTerm = e.target.value.toLowerCase();
                    const tutorCards = document.querySelectorAll('.tutor-card');
                    
                    tutorCards.forEach(card => {
                        const tutorName = card.querySelector('h5').textContent.toLowerCase();
                        const tutorSubject = card.querySelector('p').textContent.toLowerCase();
                        
                        if (tutorName.includes(searchTerm) || tutorSubject.includes(searchTerm)) {
                            card.closest('.col-12').style.display = '';
                        } else {
                            card.closest('.col-12').style.display = 'none';
                        }
                    });
                });
            }
            
            // Initialize tooltips
            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            tooltipTriggerList.map(tooltipTriggerEl => {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
        });
    </script>
    <script>
        // Toggle sidebar
        document.getElementById('sidebarToggle').addEventListener('click', function() {
            document.getElementById('wrapper').classList.toggle('toggled');
        });

        // Toggle dark/light mode
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        
        themeToggle.addEventListener('click', function() {
            html.classList.toggle('dark');
            const icon = this.querySelector('i');
            if (html.classList.contains('dark')) {
                icon.classList.remove('bx-moon');
                icon.classList.add('bx-sun');
                localStorage.setItem('theme', 'dark');
            } else {
                icon.classList.remove('bx-sun');
                icon.classList.add('bx-moon');
                localStorage.setItem('theme', 'light');
            }
        });

        // Check for saved theme preference
        if (localStorage.getItem('theme') === 'dark') {
            html.classList.add('dark');
            const icon = themeToggle.querySelector('i');
            icon.classList.remove('bx-moon');
            icon.classList.add('bx-sun');
        }

        // Initialize charts
        document.addEventListener('DOMContentLoaded', function() {
            // Weekly Revenue Chart
            const weeklyRevenueOptions = {
                series: [{
                    name: 'Revenue',
                    data: [3500, 4200, 3800, 5100, 4900, 6200, 5800]
                }],
                chart: {
                    type: 'area',
                    height: 350,
                    toolbar: {
                        show: false
                    },
                    zoom: {
                        enabled: false
                    }
                },
                colors: ['#5d87ff'],
                dataLabels: {
                    enabled: false
                },
                stroke: {
                    curve: 'smooth',
                    width: 2
                },
                xaxis: {
                    categories: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
                },
                tooltip: {
                    y: {
                        formatter: function (val) {
                            return '$' + val;
                        }
                    }
                }
            };

            const weeklyRevenueChart = new ApexCharts(document.querySelector("#weeklyRevenueChart"), weeklyRevenueOptions);
            weeklyRevenueChart.render();

            // Subject Distribution Chart
            const subjectDistributionOptions = {
                series: [42, 28, 18, 12],
                chart: {
                    type: 'donut',
                    height: 300
                },
                colors: ['#5d87ff', '#49beff', '#ffae1f', '#539bff'],
                labels: ['Mathematics', 'Physics', 'Chemistry', 'Others'],
                legend: {
                    show: false
                },
                plotOptions: {
                    pie: {
                        donut: {
                            size: '70%',
                            labels: {
                                show: true,
                                total: {
                                    show: true,
                                    label: 'Total',
                                    formatter: function (w) {
                                        return w.globals.seriesTotals.reduce((a, b) => {
                                            return a + b;
                                        }, 0) + '%';
                                    }
                                }
                            }
                        }
                    }
                },
                dataLabels: {
                    enabled: false
                },
                responsive: [{
                    breakpoint: 480,
                    options: {
                        chart: {
                            width: 200
                        },
                        legend: {
                            position: 'bottom'
                        }
                    }
                }]
            };

            const subjectDistributionChart = new ApexCharts(document.querySelector("#subjectDistributionChart"), subjectDistributionOptions);
            subjectDistributionChart.render();
        });
    </script>
    <style>
        /* Timeline Styles */
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 15px;
            width: 2px;
            background: #e0e0e0;
        }
        
        .timeline-item {
            position: relative;
            padding-bottom: 20px;
        }
        
        .timeline-point {
            position: absolute;
            left: -30px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4e73df;
            top: 5px;
            border: 3px solid #fff;
            box-shadow: 0 0 0 2px #4e73df;
        }
        
        .timeline-point.bg-warning {
            background: #f6c23e;
            box-shadow: 0 0 0 2px #f6c23e;
        }
        
        .timeline-point.bg-info {
            background: #36b9cc;
            box-shadow: 0 0 0 2px #36b9cc;
        }
        
        .timeline-content {
            background: #fff;
            border-radius: 0.35rem;
            padding: 1rem;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.1);
            margin-bottom: 1rem;
        }
        
        .icon-circle {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize tooltips
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
            
            // Handle initial page load with hash
            if (window.location.hash) {
                const sectionId = window.location.hash.substring(1);
                const targetSection = document.getElementById(sectionId);
                const targetNav = document.querySelector(`[data-section="${sectionId}"]`);
                
                if (targetSection && targetNav) {
                    document.querySelectorAll('.section').forEach(section => {
                        section.classList.remove('active');
                    });
                    document.querySelectorAll('.nav-link').forEach(link => {
                        link.classList.remove('active');
                    });
                    
                    targetSection.classList.add('active');
                    targetNav.classList.add('active');
                }
            }
            
            // Initialize FullCalendar
            var calendarEl = document.getElementById('tutorCalendar');
            if (calendarEl) {
                var calendar = new FullCalendar.Calendar(calendarEl, {
                    initialView: 'timeGridWeek',
                    headerToolbar: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'dayGridMonth,timeGridWeek,timeGridDay'
                    },
                    height: 'auto',
                    events: [
                        {
                            title: 'Available',
                            start: '2025-10-28T09:00:00',
                            end: '2025-10-28T12:00:00',
                            color: '#4e73df'
                        },
                        {
                            title: 'Available',
                            start: '2025-10-29T14:00:00',
                            end: '2025-10-29T17:00:00',
                            color: '#4e73df'
                        },
                        {
                            title: 'Booked',
                            start: '2025-10-28T10:00:00',
                            end: '2025-10-28T11:00:00',
                            color: '#e74a3b'
                        }
                    ]
                });
                calendar.render();
            }
            
            // Navigation handling
            document.querySelectorAll('.nav-link').forEach(navLink => {
                navLink.addEventListener('click', function(e) {
                    const sectionId = this.getAttribute('data-section');
                    if (sectionId) {
                        e.preventDefault();
                        
                        // Update active nav link
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        this.classList.add('active');
                        
                        // Show the selected section
                        document.querySelectorAll('.section').forEach(section => {
                            section.classList.remove('active');
                        });
                        const targetSection = document.getElementById(sectionId);
                        if (targetSection) {
                            targetSection.classList.add('active');
                            
                            // Update browser history
                            history.pushState({ section: sectionId }, '', `#${sectionId}`);
                        }
                    }
                });
            });
            
            // Handle browser back/forward buttons
            window.addEventListener('popstate', function(e) {
                const sectionId = window.location.hash.substring(1) || 'overview';
                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById(sectionId).classList.add('active');
                
                // Update active nav link
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('data-section') === sectionId) {
                        link.classList.add('active');
                    }
                });
            });
            
            // Check for hash on page load
            if (window.location.hash) {
                const sectionId = window.location.hash.substring(1);
                const section = document.getElementById(sectionId);
                if (section) {
                    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                    section.classList.add('active');
                    
                    // Update active nav link
                    document.querySelectorAll('.nav-link').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('data-section') === sectionId) {
                            link.classList.add('active');
                        }
                    });
                }
            }
        });
    </script>
</body>
</html>
